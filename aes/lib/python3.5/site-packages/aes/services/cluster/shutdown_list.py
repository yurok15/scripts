import time


class ShutdownList:
    def __init__(self, limit=10):
        self.data = []
        self.older_shutdown = None
        self.limit = limit

    def add_node(self, name: str, timestamp: float):
        timestamp = timestamp or time.time()
        if self.older_shutdown and timestamp < self.older_shutdown:
            return
        found = False
        for i, (item_name, item_timestamp) in enumerate(self.data):
            if name == item_name:
                if item_timestamp <= timestamp:
                    return
                self.data[i] = (item_name, timestamp)
                found = True
                break
        if not found:
            self.data.append((name, timestamp))
        self.data.sort(key=lambda x: x[1])
        while len(self.data) > self.limit:
            self.data.pop(0)
            if self.data:
                older = self.data[0]
                self.older_shutdown = older[1]
            else:
                self.older_shutdown = None

    def __contains__(self, item):
        for item_name, _ in self.data:
            if item_name == item:
                return True
        return False

from aes.services import HttpService
from tests.fixtures import policy_fixture
from .policy import PolicyTestService


class DevPolicyService(PolicyTestService):
    def __init__(self, name, controller, settings, loop):
        super(DevPolicyService, self).__init__(
            name, controller, settings, loop)
        self.configure_user(
            'test_recipient@intermedia.net', policy_fixture(), inbound=True)
        self.configure_user(
            'test_sender@intermedia.net', policy_fixture(), inbound=False)

    def requires(self, http: HttpService):
        super(DevPolicyService, self).requires(http)

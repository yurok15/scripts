from aes.services.analytics.base import AnalyticsService


class MemoryAnalyticsService(AnalyticsService):
    def __init__(self, name, controller, config, loop):
        super(MemoryAnalyticsService, self).__init__(
            name, controller, config, loop)
        self.data = self.config.get('container')
        if self.data is None:
            self.data = []
        self.config['container'] = self.data

    async def log_message(self, message, data=None):
        self.data.append((message, data))
